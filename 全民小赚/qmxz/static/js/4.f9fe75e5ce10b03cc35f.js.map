{"version":3,"sources":["webpack:///src/components/upload.vue","webpack:///./src/components/upload.vue?94a0","webpack:///./src/components/upload.vue","webpack:///src/pages/simple/updatePic.vue","webpack:///./src/pages/simple/updatePic.vue?193f","webpack:///./src/pages/simple/updatePic.vue"],"names":["upload","props","data","url","imgName","visible","uploadList","defaultList","methods","handleView","this","handleRemove","file","index","fileList","$refs","splice","indexOf","$store","state","imgIndex","$emit","handleError","error","$toast","handleSuccess","res","response","shareUrl","handleFormatError","handleMaxSize","handleBeforeUpload","check","length","size","mounted","beforeMount","_this","allUrl","undefined","defaultPic","split","map","val","b","push","components_upload","render","_vm","_h","$createElement","_c","_self","ref","staticStyle","display","width","attrs","show-upload-list","on-success","on-error","format","default-file-list","on-format-error","on-exceeded-size","with-credentials","before-upload","multiple","type","action","padding","_v","staticClass","_l","item","status","src","nativeOn","click","$event","percent","percentage","hide-info","_e","open","on","update:open","staticRenderFns","src_components_upload","__webpack_require__","normalizeComponent","ssrContext","updatePic","components","headBar","addpic","_ref","placeholder","info","showPic","picModel","id","detailImg","defineProperty_default","showpic","upImg","picList","removeImg","delectIndex","init","oldSession3rd","$http","get","then","console","log","strategyPic","cation","submit","phone","sub","save","change","_this2","picUrl","join","formDate","easyMakeId","voucherUrl","openId","method","resultCode","success","_this3","$route","query","simple_updatePic","titleName","isBack","_s","easyMakeExplain","alt","model","value","callback","$$v","expression","update","remove","margin","justify-content","align-items","directives","name","rawName","color","full-width","textColor","_m","height","updatePic_Component","updatePic_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.f9fe75e5ce10b03cc35f.js","sourcesContent":["<template>\r\n\t<div>      \r\n    <Upload\r\n        ref=\"upload\"\r\n        :show-upload-list=\"false\"\r\n        :on-success=\"handleSuccess\"\r\n        :on-error=\"handleError\"\r\n        :format=\"['jpg','jpeg','png','gif','mp4','avi']\"\r\n        \r\n        :default-file-list=\"defaultList\"\r\n        :on-format-error=\"handleFormatError\"\r\n        :on-exceeded-size=\"handleMaxSize\"\r\n        :with-credentials = 'true'\r\n        :before-upload=\"handleBeforeUpload\"\r\n        multiple\r\n        type=\"drag\"\r\n        :action=url\r\n        style=\"display: inline-block;width:58px;\">\r\n        <div style=\"padding: 20px 0\">\r\n            <Icon type=\"ios-cloud-upload\" size=\"20\"></Icon>\r\n            <p class=\"p1\">上传任务截图</p>\r\n            <p class=\"p2\">仅支持png、jpg格式，最多上传5张</p>\r\n        </div>\r\n    </Upload>\r\n    <div class=\"listContent\">\r\n           <div class=\"demo-upload-list\" v-for=\"(item,index) in uploadList\">\r\n        <template v-if=\"item.status === 'finished'\">\r\n            <img :src=\"item.url\">\r\n            <div class=\"demo-upload-list-cover\">\r\n                <Icon type=\"ios-trash-outline\" @click.native=\"handleRemove(item,index)\"></Icon>\r\n                <Icon type=\"ios-eye-outline\" @click.native=\"handleView(item.url)\"></Icon>\r\n            </div>\r\n        </template>\r\n        <template v-else>\r\n            <Progress v-if=\"item.showProgress\" :percent=\"item.percentage\" hide-info></Progress>\r\n        </template>\r\n         <mu-dialog :open.sync=\"visible\">\r\n            <img :src='imgName' v-if=\"visible\" style=\"width: 100%\">\r\n        </mu-dialog>\r\n    </div>\r\n    </div>\r\n  \r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n\r\n        props:['size','defaultPic'],\r\n\r\n        data () {\r\n            return {\r\n                url:'',\r\n                imgName: '',\r\n                visible: false,\r\n                uploadList: [],\r\n                defaultList: []\r\n            }\r\n        },\r\n        methods: {\r\n            // changePlace(){\r\n            //     this.uploadList = this.uploadList.slice(-1).concat(this.uploadList.slice(0,-1));\r\n            //     this.defaultList = this.defaultList.slice(-1).concat(this.defaultList.slice(0,-1));\r\n            // },\r\n            handleView (url) {\r\n                this.imgName = url;\r\n                this.visible = true;\r\n            },\r\n            handleRemove (file,index) {\r\n                const fileList = this.$refs.upload.fileList;\r\n                this.$refs.upload.fileList.splice(fileList.indexOf(file), 1);\r\n                this.$store.state.imgIndex = index;\r\n                this.$emit('remove')\r\n\r\n            },\r\n            handleError(error, file, fileList){\r\n                this.$toast.error('上传失败');\r\n            },\r\n            handleSuccess (res, file,fileList) {\r\n              file.url = \"http://\"+file.response.data[0];\r\n              this.$store.state.shareUrl = file;\r\n              this.$emit('update')\r\n        \r\n            },\r\n            handleFormatError (file) {\r\n                 this.$toast.error('文件格式错误');\r\n            },\r\n            handleMaxSize (file) {\r\n                  this.$toast.error('文件过大');\r\n            },\r\n            handleBeforeUpload () {\r\n                const check = this.uploadList.length < this.size;\r\n                if (!check) {\r\n                    let info  = '最多上传'+this.size+'张'\r\n\r\n                  this.$toast.error('最多上传五张');\r\n                }\r\n                return check;\r\n            }\r\n        },\r\n        mounted () {\r\n            this.uploadList = this.$refs.upload.fileList;\r\n           \r\n        },\r\n        beforeMount () {\r\n            \r\n                let url = this.allUrl + '/uploadPic/uploadPic'\r\n            this.url = url;\r\n                if(this.defaultPic!=undefined){\r\n\r\n                    if(this.defaultPic==''){\r\n\r\n                    }else{\r\n                        let a = this.defaultPic.split(',')\r\n                        a.map((val)=>{\r\n                            let b = {url:val}\r\n                            this.defaultList.push(b)\r\n                            \r\n                        })  \r\n                    }\r\n\r\n            }\r\n       \r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .ivu-upload{\r\n        width: 100% !important;\r\n        height: 6.25rem;\r\n    }\r\n    .p1{\r\n        font-size: .8125rem;\r\n        font-weight: bold;\r\n        color: #333333;\r\n        margin: .4375rem;\r\n    }\r\n    .p2{\r\n        font-size: .6875rem;\r\n        color: #999999;\r\n    }\r\n    .listContent{\r\n         /* height: 7.25rem; */\r\n               width: 95%;\r\n               display: flex;\r\n               overflow: scroll;\r\n                margin-top: .625rem;\r\n    }\r\n    .demo-upload-list{\r\n        display: inline-block;\r\n        width: 5.25rem;\r\n        height: 7.25rem;\r\n        text-align: center;\r\n        line-height: 60px;\r\n        border: 1px solid transparent;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n        background: #fff;\r\n        position: relative;\r\n        box-shadow: 0 1px 1px rgba(0,0,0,.2);\r\n    }\r\n    .demo-upload-list img{\r\n       width: 5.25rem;\r\n                   height: 7.25rem;\r\n                   margin-right: .875rem;\r\n    }\r\n    .demo-upload-list-cover{\r\n        padding-top: 1rem;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: rgba(0,0,0,.6);\r\n    }\r\n    .demo-upload-list:hover .demo-upload-list-cover{\r\n        display: block;\r\n    }\r\n    .demo-upload-list-cover i{\r\n        color: #fff;\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n        margin: 0 2px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/upload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\",\"width\":\"58px\"},attrs:{\"show-upload-list\":false,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"format\":['jpg','jpeg','png','gif','mp4','avi'],\"default-file-list\":_vm.defaultList,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"with-credentials\":true,\"before-upload\":_vm.handleBeforeUpload,\"multiple\":\"\",\"type\":\"drag\",\"action\":_vm.url}},[_c('div',{staticStyle:{\"padding\":\"20px 0\"}},[_c('Icon',{attrs:{\"type\":\"ios-cloud-upload\",\"size\":\"20\"}}),_vm._v(\" \"),_c('p',{staticClass:\"p1\"},[_vm._v(\"上传任务截图\")]),_vm._v(\" \"),_c('p',{staticClass:\"p2\"},[_vm._v(\"仅支持png、jpg格式，最多上传5张\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"listContent\"},_vm._l((_vm.uploadList),function(item,index){return _c('div',{staticClass:\"demo-upload-list\"},[(item.status === 'finished')?[_c('img',{attrs:{\"src\":item.url}}),_vm._v(\" \"),_c('div',{staticClass:\"demo-upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-trash-outline\"},nativeOn:{\"click\":function($event){_vm.handleRemove(item,index)}}}),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){_vm.handleView(item.url)}}})],1)]:[(item.showProgress)?_c('Progress',{attrs:{\"percent\":item.percentage,\"hide-info\":\"\"}}):_vm._e()],_vm._v(\" \"),_c('mu-dialog',{attrs:{\"open\":_vm.visible},on:{\"update:open\":function($event){_vm.visible=$event}}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()])],2)}),0)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c97b0fe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/upload.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c97b0fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./upload.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./upload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./upload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c97b0fe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./upload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload.vue\n// module id = null\n// module chunks = ","<style>\r\n    .mu-input {\r\n        width: 100%;\r\n    }\r\n      input::-webkit-input-placeholder {\r\n         /* placeholder颜色  */\r\n         color:#000;\r\n         font-weight: bold;\r\n         /* placeholder字体大小  */\r\n         font-size: 1rem;\r\n         /* placeholder位置  */\r\n        \r\n     }\r\n</style>\r\n<template>\r\n    <div class=\"updatePic\">\r\n         <headBar titleName='上传凭证' isBack=true></headBar>\r\n         <div class=\"explain\">\r\n             <p>任务说明</p>\r\n             <p>{{info.easyMakeExplain}}</p>\r\n             <div class=\"picContent\">\r\n                 <img :src=\"data\" alt=\"\" v-for=\"data in detailImg\" @click=\"showpic(data)\">\r\n             </div>\r\n         </div>\r\n\r\n         <div class=\"f5\"></div>\r\n         <div class=\"btmContent\">\r\n               <mu-text-field v-model=\"phone\" :placeholder=\"placeholder\"></mu-text-field>\r\n              <addpic @update=\"upImg\" @remove=\"removeImg\" :size='5'></addpic>  \r\n            <mu-flex justify-content=\"center\" align-items=\"center\" style=\"margin:.7rem 0;\">\r\n                <mu-button color=\"#FF7C74\" full-width textColor='#fff' v-show='status==null||status==6||status==1' @click=\"submit\">提交审核</mu-button>\r\n                <mu-button color=\"#D4D4D4\" full-width textColor='#fff' v-show='status==2'>已上传任务凭证，审核中…</mu-button>\r\n            </mu-flex>\r\n            <p>温馨提示：审核时间需要 <span class=\"pick\">3</span> 个工作日，审核完毕后，奖励将自动打到您的个人账户中，金额前往“<span class=\"pick\">钱包</span>”模块中查看</p>\r\n         </div>\r\n\r\n \r\n\r\n         <mu-dialog  width=\"360\" :open.sync=\"picModel\">\r\n               <img :src=\"showPic\" alt=\"\" style=\"height:100%;width:100%;\">\r\n            </mu-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport addpic from '@/components/upload'\r\nimport headBar from '@/components/head'\r\n    export default {\r\n          components:{\r\n            headBar,addpic\r\n        },\r\n        data(){\r\n            return{\r\n                placeholder:'请输入手机号或相应信息',\r\n                info:{},\r\n                showPic:'',\r\n                picModel:false,\r\n                status:0,\r\n                id:null,\r\n                detailImg:[],\r\n                status:null,\r\n                phone:null,\r\n                picList:[]\r\n\r\n            }\r\n        },\r\n        methods:{\r\n            showpic(data){\r\n                this.showPic = data\r\n                this.picModel = true\r\n            },\r\n            upImg(){\r\n                 this.picList.push(this.$store.state.shareUrl.url)\r\n            },\r\n            removeImg(){\r\n                  let delectIndex = this.$store.state.imgIndex\r\n                  this.picList.splice(delectIndex,1)\r\n            },\r\n            init(){\r\n                let url = this.allUrl + '/easyMake/getEasyMake'+'?oldSession3rd='+this.oldSession3rd+'&easyMakeId='+this.id\r\n                this.$http.get(url).then((res)=>{ \r\n                    console.log(res)\r\n                    this.info = res.data.data     \r\n                    this.detailImg = res.data.data.strategyPic.split(';')  \r\n                    this.status = res.data.data.status     \r\n                    this.placeholder = res.data.data.cation\r\n                })\r\n            },\r\n            submit(){\r\n                console.log(this.status)\r\n                if(!this.phone){\r\n                    this.$toast.error(\"请输入手机号或相应信息\")\r\n                    return;\r\n                }\r\n                // else{\r\n                //     var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;\r\n                //     if (!myreg.test(this.phone)) {\r\n                //         this.$toast.error(\"请输入正确手机号\")\r\n                //         return;\r\n                //     }\r\n                // }\r\n\r\n                if(this.picList.length==0){\r\n                     this.$toast.error(\"请上传任务截图\")\r\n                     return;\r\n                }\r\n                this.sub()\r\n            },\r\n            sub(){\r\n                if(this.status==null){\r\n                    this.save()\r\n                }else{\r\n                    this.change()\r\n                }\r\n            },\r\n            save(){\r\n                let picUrl = this.picList.join(';')\r\n                let formDate = {\r\n                    easyMakeId:this.id,\r\n                    voucherUrl:picUrl,\r\n                    phone:this.phone,\r\n                    openId:this.oldSession3rd,\r\n                    status:2\r\n                }\r\n                this.$http({\r\n\t\t\t\t\turl:this.allUrl+'/easyMakeRecord/saveEasyMakeRecord',\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata: formDate \r\n\t\t\t\t  }).then((response) =>{\r\n                      console.log(response)\r\n                      if(response.data.resultCode=='1'){\r\n                          this.$toast.success(\"提交成功\")\r\n                          this.status = 2\r\n                      }\r\n                  })\r\n            },\r\n            change(){\r\n                   let picUrl = this.picList.join(';')\r\n                let formDate = {\r\n                    easyMakeId:this.id,\r\n                    voucherUrl:picUrl,\r\n                    phone:this.phone,\r\n                    openId:this.oldSession3rd,\r\n                    status:2\r\n                }\r\n                this.$http({\r\n\t\t\t\t\turl:this.allUrl+'/easyMakeRecord/updateEasyMakeRecord',\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata: formDate \r\n\t\t\t\t  }) .then((response) =>{\r\n                      console.log(response)\r\n                      if(response.data.resultCode=='1'){\r\n                          this.$toast.success(\"提交成功\")\r\n                          this.status = 2\r\n                      }\r\n                  })\r\n            }\r\n        },\r\n        beforeMount(){\r\n            this.oldSession3rd = this.$route.query.openId\r\n            this.id = this.$route.query.id\r\n            this.init()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n    .updatePic{\r\n        overflow-x:hidden;\r\n        overflow-y: scroll;\r\n        height: 100%;\r\n        width: 100%;\r\n       \r\n        background: #fff;\r\n        text-align: left;\r\n         .pick{\r\n                        color:#FF7C74;\r\n                    }\r\n        .explain{\r\n            width: 100%;\r\n            padding: 1rem 0 1.875rem 1rem;\r\n            background: #fff;\r\n            margin-top:  2.90625rem;\r\n            font-size: .8125rem;\r\n            color: #333333;\r\n            font-weight: bold;\r\n            p:nth-child(1){\r\n                font-size: .9375rem;\r\n                color: #888888;\r\n                margin-bottom: .5rem;\r\n            }\r\n           p:nth-child(2){  \r\n               line-height: 1.2rem;\r\n           }\r\n           .picContent{\r\n               height: 7.25rem;\r\n               width: 95%;\r\n               display: flex;\r\n               overflow: scroll;\r\n                margin-top: .625rem;\r\n               img{\r\n                   width: 5.25rem;\r\n                   height: 7.25rem;\r\n                   margin-right: .875rem;\r\n               }\r\n           }\r\n        }\r\n        .f5{\r\n            width: 100%;\r\n            height: .5rem;\r\n            background: #F5F5F5;\r\n        }\r\n        .btmContent{\r\n            width: 100%;\r\n            background: #fff;\r\n            padding: 1.875rem 1rem 1rem;\r\n            p{\r\n                font-size: .6875rem;\r\n                color: #888888;\r\n                letter-spacing: 0;\r\n                line-height: 1rem;\r\n                padding-bottom: 2.34375rem;\r\n                font-family: PingFangSC-Medium;\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/simple/updatePic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"updatePic\"},[_c('headBar',{attrs:{\"titleName\":\"上传凭证\",\"isBack\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"explain\"},[_c('p',[_vm._v(\"任务说明\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.info.easyMakeExplain))]),_vm._v(\" \"),_c('div',{staticClass:\"picContent\"},_vm._l((_vm.detailImg),function(data){return _c('img',{attrs:{\"src\":data,\"alt\":\"\"},on:{\"click\":function($event){_vm.showpic(data)}}})}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"f5\"}),_vm._v(\" \"),_c('div',{staticClass:\"btmContent\"},[_c('mu-text-field',{attrs:{\"placeholder\":_vm.placeholder},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('addpic',{attrs:{\"size\":5},on:{\"update\":_vm.upImg,\"remove\":_vm.removeImg}}),_vm._v(\" \"),_c('mu-flex',{staticStyle:{\"margin\":\".7rem 0\"},attrs:{\"justify-content\":\"center\",\"align-items\":\"center\"}},[_c('mu-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status==null||_vm.status==6||_vm.status==1),expression:\"status==null||status==6||status==1\"}],attrs:{\"color\":\"#FF7C74\",\"full-width\":\"\",\"textColor\":\"#fff\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交审核\")]),_vm._v(\" \"),_c('mu-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status==2),expression:\"status==2\"}],attrs:{\"color\":\"#D4D4D4\",\"full-width\":\"\",\"textColor\":\"#fff\"}},[_vm._v(\"已上传任务凭证，审核中…\")])],1),_vm._v(\" \"),_vm._m(0)],1),_vm._v(\" \"),_c('mu-dialog',{attrs:{\"width\":\"360\",\"open\":_vm.picModel},on:{\"update:open\":function($event){_vm.picModel=$event}}},[_c('img',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"src\":_vm.showPic,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"温馨提示：审核时间需要 \"),_c('span',{staticClass:\"pick\"},[_vm._v(\"3\")]),_vm._v(\" 个工作日，审核完毕后，奖励将自动打到您的个人账户中，金额前往“\"),_c('span',{staticClass:\"pick\"},[_vm._v(\"钱包\")]),_vm._v(\"”模块中查看\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d9b62d88\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/simple/updatePic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d9b62d88\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./updatePic.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d9b62d88\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./updatePic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./updatePic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./updatePic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d9b62d88\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./updatePic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d9b62d88\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/simple/updatePic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}